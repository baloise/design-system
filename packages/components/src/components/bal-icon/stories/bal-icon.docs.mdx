import { Story, Canvas, Description } from '@storybook/addon-docs'
import { html } from '../../../stories/utils'
import readme from '../readme.md'
import { Basic } from './bal-icon.stories'

<bal-doc-banner id="story--components-icon--basic" >Icon</bal-doc-banner>

<bal-doc-lead>
  <b>Icons</b> are pure svg files. To add a new icon just place your svg file into the{' '}
  <a href="https://github.com/baloise/design-system/tree/master/packages/icons/svg">folder</a>. Then the build script
  will automatically optimize the svg and provide it to the component. It is important that the svg icons are made with
  fill elements instead of strokes.
</bal-doc-lead>

<Canvas withSource="open">
  <Story id="components-icon--basic" />
</Canvas>

<bal-doc-app>
  <bal-button-group class="mb-large" position="center">
    <a class="button is-primary" href="?path=/story/components-icon--basic">
      Go to playground (Canvas)
    </a>
    <bal-doc-stackblitz
      framework="angular"
      template={Basic.parameters.docs.source.code}
      modules="icon"
    ></bal-doc-stackblitz>
    <bal-doc-stackblitz
      framework="html"
      template={Basic.parameters.docs.source.code}
      modules="icon"
    ></bal-doc-stackblitz>
  </bal-button-group>
</bal-doc-app>

By default the icons are not loaded by the Design System. To import the icons we support two ways.

- Pass the raw SVG content directly to the `bal-icon` component (recommended)
- During the initialization of the Design System

### Import into the component

When importing an SVG into your component you decrease the initial page load. So you use the SVG only where
you needed and at the time you wanted.

First import the icon.

```typescript
import { balIconAccount } from '@baloise/design-system-icons'
```

Then use it directly with the `bal-icon` component inside your app component.

```html
<!-- Angular -->
<bal-icon [svg]="balIconAccount"></bal-icon>

<!-- Vue -->
<bal-icon :svg="balIconAccount"></bal-icon>
```

### Import during initialization

Import the icons form the `@baloise/design-system-icons` package and pass them with
the BalConfig during the initialization.

First import the icon.

```typescript
import { balIconAccount } from '@baloise/design-system-icons'
```

#### Angular

```typescript
@NgModule({
  imports: [
    BalCoreModule.forRoot({
      defaults: {
        icons: { balIconAccount },
      },
    }),
  ],
})
export class AppModule {}
```

#### Vue

```typescript
createApp(App)
  .use(
    createBaloiseDesignSystem({
      defaults: {
        icons: { balIconAccount },
      },
    }),
  )
  .mount('#app')
```

Then the icon can be found with the name prop of the component. Just remove the prefix `balIcon` and start with a small letter.

```html
<bal-icon name="account"></bal-icon>
```

## Examples

<span id="story--components-icon--svg" style={{ opacity: 0 }}></span>

### SVG

<Canvas withSource="closed">
  <Story id="components-icon--svg" />
</Canvas>

<span id="story--components-icon--sizes" style={{ opacity: 0 }}></span>

### Sizes

Here is how you can change the size:

<Canvas withSource="open">
  <Story id="components-icon--sizes" />
</Canvas>

<span id="story--components-icon--colors" style={{ opacity: 0 }}></span>

### Colors

<Canvas withSource="open">
  <Story id="components-icon--colors" />
</Canvas>

### Component Api

<Description markdown={readme} />

<br />

This documentation explains how to implement and use Baloise Design System components across different technologies.

<a class="button is-primary" href="?path=/docs/development-components--page">
  Go to component usage
</a>

import testing from './testing.md'

<Description markdown={testing} />

<bal-doc-github link="/components/bal-icon/stories/bal-icon.docs.mdx"></bal-doc-github>
