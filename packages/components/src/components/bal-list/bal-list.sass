@import '@baloise/design-system-css/scss/baloise-design-system.utilities'

.bal-list,
.bal-list__item,
.bal-list__item > a,
.bal-list__item > button,
.bal-list__item > div,
.bal-list__item__icon,
.bal-list__item__title,
.bal-list__item__link,
.bal-list__item__subtitle,
.bal-list__item__content
  position: static
  display: flex

.bal-list,
.bal-list__item__content
  flex-direction: column

.bal-list,
.bal-list__item,
.bal-list__item > div,
.bal-list__item > a,
.bal-list__item > button
  width: 100%

.bal-list__item,
.bal-list__item > a,
.bal-list__item > div,
.bal-list__item > button
  align-items: center
  column-gap: 1rem

.bal-list__item:not(.bal-list__item__accordion-body),
.bal-list__item:not(.bal-list__item__accordion-body) > a,
.bal-list__item:not(.bal-list__item__accordion-body) > div,
.bal-list__item:not(.bal-list__item__accordion-body) > button
  min-height: 56px

.bal-list__item > a,
.bal-list__item > div,
.bal-list__item > button
  padding: .5rem 0
  margin: 0
  outline: none
  border-radius: var(--bal-radius-normal)

.bal-list__item
  position: relative

.bal-list__item a
  text-decoration: none

.bal-list__item button
  background: transparent
  border: none

.bal-list__item__subtitle
  color: var(--bal-color-primary-5)

.bal-list__item,
.bal-list__item > a,
.bal-list__item > div,
.bal-list__item > button,
.bal-list__item__content
  flex: 1

// TODO: check this special style for the navigation
.bal-list.bal-list--context-main-nav .bal-list__item
  +touch()
    padding: 1rem 0
    &.bal-list__item--sub-accordion
      padding: 0 1rem .25rem
      &:last-child
        padding-bottom: 0

.bal-list__item__content
  justify-content: center
  &--start
    justify-content: start
  &--center
    justify-content: center
  &--end
    justify-content: end
  &--space-between
    justify-content: space-between

.bal-list__item__icon
  min-width: 24px
  min-height: 56px
  justify-content: center
  align-items: center

.bal-list--size-small
  .bal-list__item:not(.bal-list__item__accordion-body),
  .bal-list__item:not(.bal-list__item__accordion-body) > a,
  .bal-list__item:not(.bal-list__item__accordion-body) > div,
  .bal-list__item:not(.bal-list__item__accordion-body) > button,
  .bal-list__item__icon
    min-height: 48px

.bal-list--size-large
  .bal-list__item:not(.bal-list__item__accordion-body),
  .bal-list__item:not(.bal-list__item__accordion-body) > a,
  .bal-list__item:not(.bal-list__item__accordion-body) > div,
  .bal-list__item:not(.bal-list__item__accordion-body) > button,
  .bal-list__item__icon
    min-height: 72px

.bal-list__item--clickable
  .bal-list__item__accordion-head,
  a:not(.is-link),
  button:not(.button)
    cursor: pointer
    pointer-events: inherit

.bal-list:not(.is-disabled):not(.bal-list--background-dark) .bal-list__item--clickable
  .bal-list__item__accordion-head,
  a:not(.is-link),
  button:not(.button)
    +hover()
      &:hover
        .bal-list__item__title h5,
        .bal-list__item__subtitle p
          color: var(--bal-color-light-blue-5) !important

        .bal-list__item__icon
          svg,
          svg g,
          svg path,
          svg circle
            fill: var(--bal-color-light-blue-5) !important

    &:active
      .bal-list__item__title h5,
      .bal-list__item__subtitle p
        +desktop()
          color: var(--bal-color-blue-6) !important

      .bal-list__item__icon
        svg,
        svg g,
        svg path,
        svg circle
          +desktop()
            fill: var(--bal-color-blue-6) !important

    &:focus-visible
      box-shadow: var(--bal-color-white) 0 0 0 2px, var(--bal-color-purple-6) 0 0 0 5px !important
      &:after
        content: none !important

.bal-list--background-dark
  .bal-list__item
    .bal-list__item__title .title,
    .bal-list__item__subtitle p
      color: var(--bal-color-white)

  .bal-list__item__icon
    svg,
    svg g,
    svg path,
    svg circle
      fill: var(--bal-color-white)

.bal-list:not(.bal-list--disabled).bal-list--background-dark .bal-list__item--clickable
  .bal-list__item__accordion-head,
  a:not(.is-link),
  button:not(.button)
    +hover()
      &:hover
        .bal-list__item__title .title,
        .bal-list__item__subtitle p
          color: var(--bal-color-light-blue-2) !important

        .bal-list__item__icon
          svg,
          svg g,
          svg path,
          svg circle
            fill: var(--bal-color-light-blue-2) !important

    &:active
      .bal-list__item__title h5,
      .bal-list__item__subtitle p
        +desktop()
          color: var(--bal-color-light-blue-4) !important

      .bal-list__item__icon
        svg,
        svg g,
        svg path,
        svg circle
          +desktop()
            fill: var(--bal-color-light-blue-4) !important

    &:focus-visible
      box-shadow: var(--bal-color-white) 0 0 0 2px, var(--bal-color-yellow-3) 0 0 0 5px !important
      &:after
        content: none !important

.bal-list--disabled
  &,
  .bal-list__item,
  .bal-list__item a:not(.is-link),
  .bal-list__item button:not(.button)
    cursor: default !important
    pointer-events: none !important
    user-select: none !important

.bal-list--border .bal-list__item:not(.bal-list__item--sub-accordion):not(.bal-list__item__accordion-body)
  & > div:after,
  a:not(.is-link):after,
  button:not(.button):not([type='button']):after
    content: ''
    height: 2px
    border-radius: var(--bal-radius-normal)
    width: 100%
    position: absolute
    bottom: 0
    left: 0
    right: 0

.bal-list--border.bal-list--context-main-nav .bal-list__item:not(.bal-list__item--sub-accordion)
  & > div:after,
  a:not(.is-link):after,
  button:not(.button):not([type='button']):after
    background: var(--bal-color-grey)
    height: 1px

.bal-list--border.bal-list--context-main-nav .bal-list__item
  &:last-child
    & > div:after,
    a:after,
    button:after
      display: none

.bal-list--border
  .bal-list__item,
  .bal-list__item--disabled
    & > div:after,
    a:not(.is-link):after,
    button:not(.button):not([type='button']):after
      background: var(--bal-color-grey-2)

  .bal-list__item:not(.bal-list__item--disabled).bal-list__item--clickable
    & > div,
    a:not(.is-link),
    button:not(.button)
      +hover()
        &:hover:after
          background: var(--bal-color-light-blue-5)

    & > div:active:after,
    a:not(.is-link):active:after,
    button:not(.button):active:after
      +desktop()
        background: var(--bal-color-blue-6)

  &.bal-list--background-color
    .bal-list__item
      & > div:after,
      a:not(.is-link):after,
      button:not(.button):after
        background: var(--bal-color-primary)

    .bal-list__item--disabled
      & > div:after,
      a:not(.is-link):after,
      button:not(.button):after
        background: var(--bal-color-primary-4)

  &.bal-list--background-dark
    .bal-list__item
      & > div:after,
      a:not(.is-link):after,
      button:not(.button):after
        background: var(--bal-color-primary-4)

    .bal-list__item--disabled
      & > div:after,
      a:not(.is-link):after,
      button:not(.button):after
        background: var(--bal-color-primary-4)

    .bal-list__item:not(.bal-list__item--disabled).bal-list__item--clickable
      & > div:hover:after,
      a:not(.is-link):hover:after,
      button:not(.button):hover:after
        background: var(--bal-color-light-blue-2)

      & > div:active:after,
      a:not(.is-link):active:after,
      button:not(.button):active:after
        background: var(--bal-color-light-blue-4)

.bal-list:not(.bal-list--background-dark) .bal-list__item--disabled
  &,
  a:not(.is-link),
  button:not(.button)
    .bal-list__item__title h5,
    .bal-list__item__subtitle p
      color: var(--bal-color-grey-5) !important

    .bal-list__item__icon
      svg,
      svg g,
      svg path,
      svg circle
        fill: var(--bal-color-grey-5) !important

.bal-list:not(.bal-list--disabled):not(.bal-list--background-dark) .bal-list__item--disabled
  &,
  a:not(.is-link),
  button:not(.button)
    &,
    &:hover,
    &:active
      .bal-list__item__title h5,
      .bal-list__item__subtitle p
        color: var(--bal-color-grey-5) !important

      .bal-list__item__icon
        svg,
        svg g,
        svg path,
        svg circle
          fill: var(--bal-color-grey-5) !important

.bal-list:not(.bal-list--disabled).bal-list--background-color .bal-list__item--disabled,
.bal-list:not(.bal-list--disabled).bal-list--background-dark .bal-list__item--disabled
  &,
  a:not(.is-link),
  button:not(.button)
    &,
    &:hover,
    &:active
      .bal-list__item__title h5,
      .bal-list__item__subtitle p
        color: var(--bal-color-primary-4) !important

      .bal-list__item__icon
        svg,
        svg g,
        svg path,
        svg circle
          fill: var(--bal-color-primary-4) !important

.bal-card > .bal-list.p-none
  .bal-list__item:last-child
    &:after
      content: none !important

/****************************************************************************
 * ACCORDION
 ****************************************************************************/

.bal-list__item--accordion > div
  flex-direction: column

//
// animation
.bal-list__item--animated
  transition: all var(--bal-animation-transition-duration) var(--bal-animation-transition-easing)

  .bal-list__item__accordion-body
    transition: max-height var(--bal-animation-transition-duration) var(--bal-animation-transition-easing)

  .bal-list__item__accordion-head__icon
    transition: transform var(--bal-animation-transition-duration) var(--bal-animation-transition-easing)

.bal-list__item__accordion-head
  padding: 0 !important

// .bal-list__item__accordion-head--open .bal-list__item__accordion-head__icon
//   .bal-list:not(.bal-list--context-main-nav) &
//     transform: rotate(45deg)

//
// accordion body
.bal-list__item__accordion-body
  overflow: hidden
  will-change: max-height
  min-height: 0
  margin: 0 !important

// .bal-list__item__trigger,
.bal-list__item__accordion-body,
.bal-list__item__accordion-body__content
  padding: 0 !important

.bal-list__item--collapsing > .bal-list__item__trigger > .bal-list__item__accordion-body
  max-height: 0 !important

.bal-list__item--collapsed > .bal-list__item__trigger > .bal-list__item__accordion-body:not(.bal-list__item__accordion-body--grouped)
  display: none

.bal-list__item--collapsed > .bal-list__item__trigger > .bal-list__item__accordion-body--grouped
  max-height: 0 !important

.bal-list__item--expanding > .bal-list__item__trigger > .bal-list__item__accordion-body
  max-height: 0

@media (prefers-reduced-motion: reduce)
  .bal-list__item,
  .bal-list__item__accordion-body
    transition: none !important

.bal-list__item__accordion-body
  align-items: flex-start !important

.bal-list__item__accordion-body__content
  position: static
  display: flex
  flex: 1
  flex-direction: column
  align-items: flex-start !important
  &--start
    justify-content: start
  &--center
    justify-content: center
  &--end
    justify-content: end
  &--space-between
    justify-content: space-between

  // min-height: 0 !important

  // max-height: 0
  // overflow: hidden
  // transition: max-height 0.3s ease-in-out

// .bal-list__item.is-sub-accordion-item
//   .bal-list__item__accordion-body
//     &:after
//       content: ''
//       background: var(--bal-color-grey)
//       height: 1px
//       width: 100%
//       position: absolute
//       bottom: 0
//       left: 0
//       right: 0

//   &:last-child
//     .bal-list__item__accordion-body
//       padding-top: 0
//       &:after
//         display: none

// .bal-list__item__accordion-body .bal-list > .bal-list__item:last-child
//   .bal-list__item__trigger:after
//     display: none

.bal-list--background-dark .bal-list__item__accordion-body .bal-list__item__content > p
  color: var(--bal-color-white)
