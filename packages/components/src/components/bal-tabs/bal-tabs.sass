@import './bal-tabs__steps'

+block(tabs)
  display: inline-block
  position: static
  +modifier(context-navbar)
    +desktop
      height: 80px
      .bal-tabs__tabs > ul
        justify-content: flex-end
  +modifier(context-header)
    height: 64px
    +desktop
      .bal-tabs__tabs > ul
        justify-content: flex-end
        margin: 0 -1rem
    +widescreen
      height: 80px
      .bal-tabs__tabs > ul
        margin: 0
    .bal-tabs__tabs
      ul li:last-child
        .bal-tabs__tabs__item__button--context-header
          margin-right: .25rem
  +modifier(fullwidth)
    display: block
    flex: 1
    width: 100%

  +element(col-items)
    padding-bottom: 0 !important
    +modifier(vertical)
      +tablet
        padding-bottom: var(--bal-column-gap) !important
    +modifier(context-meta)
      padding: 0 !important
  +element(col-content)
    padding-top: 0 !important
    padding-bottom: 0 !important
    +modifier(vertical)
      +tablet
        padding-top: var(--bal-column-gap) !important
        padding-bottom: var(--bal-column-gap) !important
    +modifier(full)
      padding-top: 0 !important
      padding-bottom: 0 !important

  +element(tabs)
    +overflow-touch
    +unselectable
    position: relative
    align-items: stretch
    display: flex
    font-size: $size-normal
    justify-content: space-between
    white-space: nowrap
    ul
      align-items: center
      display: flex
      flex-grow: 1
      flex-shrink: 0
      justify-content: flex-start
    +modifier(vertical)
      ul
        flex-direction: column
        align-items: flex-start
    +modifier(vertical-on-mobile)
      +mobile
        ul
          flex-direction: column
          align-items: flex-start
    +modifier(vertical-on-tablet)
      +touch
        ul
          flex-direction: column
          align-items: flex-start

    // tab items
    +element(item)
      display: flex
      padding: 0
      justify-content: center
      align-items: center
      display: flex
      +modifier(fullwidth)
        flex-grow: 1
        flex-basis: 0
      +modifier(vertical)
        flex-grow: 1
        flex-basis: 0
        width: 100%
        justify-content: flex-start
      +modifier(vertical-on-mobile)
        +mobile
          flex-grow: 1
          flex-basis: 0
          width: 100%
          justify-content: flex-start
      +modifier(vertical-on-tablet)
        +touch
          flex-grow: 1
          flex-basis: 0
          width: 100%
          justify-content: flex-start

      +element(button)
        position: relative
        display: flex
        flex-direction: column
        justify-content: center
        align-items: center
        font-family: var(--bal-font-family-title)
        font-weight: 700
        gap: .25rem
        padding: 1rem
        flex-grow: 1
        flex-basis: 0
        width: 100%
        outline: none !important
        border-radius: var(--bal-radius-small)
        z-index: 1
        &:focus-visible
          &:not(:active)
            @extend %focus-shadow
        span
          display: flex
          position: relative
          gap: 4px
        &:hover
          color: var(--bal-color-light-blue-dark)
          +fillSvg(var(--bal-color-light-blue-dark))
        &:active
          color: var(--bal-color-blue-dark)
          +fillSvg(var(--bal-color-blue-dark))
        +modifier(icon-horizontal)
          flex-direction: row
        +touch
          gap: .5rem
          padding: 1rem
          +modifier(icon-horizontal)
            flex-direction: column
        +modifier(inverted)
          color: var(--bal-color-primary-inverted)
          +fillSvg(var(--bal-color-primary-inverted))
          &:hover
            color: var(--bal-color-light-blue-2)
            +fillSvg(var(--bal-color-light-blue-2))
          &:active
            color: var(--bal-color-info-3)
            +fillSvg(var(--bal-color-info-3))
          &:focus-visible
            &:not(:active)
              @extend %focus-inverted-shadow
        +modifier(context-navbar)
          +touch
            color: var(--bal-color-primary)
            +fillSvg(var(--bal-color-primary))
            &:hover
              color: var(--bal-color-light-blue-dark)
              +fillSvg(var(--bal-color-light-blue-dark))
            &:active
              color: var(--bal-color-blue-dark)
              +fillSvg(var(--bal-color-blue-dark))
        +modifier(disabled)
          color: var(--bal-color-text-disabled)
          cursor: default
          .bal-icon
            +fillSvg(var(--bal-color-text-disabled))
          &:hover, &:focus, &:active
            color: var(--bal-color-text-disabled)
            .bal-icon
              +fillSvg(var(--bal-color-text-disabled))
        +modifier(fullwidth)
          flex-grow: 1
          flex-basis: 0
        +modifier(vertical)
          align-items: flex-start
          justify-content: flex-start
          padding: .5rem 1rem
        +modifier(vertical-on-mobile)
          +mobile
            align-items: flex-start
            justify-content: flex-start
            padding: .5rem 1rem
        +modifier(vertical-on-tablet)
          +touch
            align-items: flex-start
            justify-content: flex-start
            padding: .5rem 1rem
        +modifier(icon)
          +mobile
            gap: 0
            font-size: var(--bal-size-small)
          +touch
            gap: .25rem
            padding: .5rem
        .bal-icon
          margin-top: -1px
        +modifier(context-navbar)
          +desktop
            height: 80px
        +modifier(context-header)
          height: 64px
          flex-direction: row-reverse
          padding: 1rem .75rem
          bal-icon
            margin-left: 3px
            transition: transform .3s ease-in-out
          +widescreen
            height: 80px
            bal-icon
              margin-left: 7px
          &.bal-tabs__tabs__item__button--active
            bal-icon
              transform: rotateX(-180deg)
        +modifier(context-meta)
          height: 48px
          font-size: 14px
          font-family: var(--bal-font-family-text)
          font-weight: 400
          &.bal-tabs__tabs__item__button--active
            font-weight: 700

    +element(border)
      position: absolute
      background: var(--bal-color-border-normal)
      border-radius: var(--bal-radius-small)
      height: 2px
      width: 100%
      bottom: 0
      +modifier(vertical)
        height: auto
        width: 2px
        top: 4px
        bottom: 4px
        left: 0
      +modifier(vertical-on-mobile)
        +mobile
          height: auto
          width: 2px
          top: 4px
          bottom: 4px
          left: 0
      +modifier(vertical-on-tablet)
        +touch
          height: auto
          width: 2px
          top: 4px
          bottom: 4px
          left: 0

    +element(line)
      position: absolute
      background: var(--bal-color-primary)
      border-radius: var(--bal-radius-small)
      height: 2px
      bottom: 0
      +modifier(inverted)
        background: var(--bal-color-primary-inverted)
      +modifier(context-navbar)
        +touch
          background: var(--bal-color-primary)
      +modifier(ready)
        transition: 0.8s
      +modifier(vertical)
        height: auto
        width: 2px
        top: 0
        left: 0
      +modifier(vertical-on-mobile)
        +mobile
          height: auto
          width: 2px
          top: 0
          left: 0
      +modifier(vertical-on-tablet)
        +touch
          height: auto
          width: 2px
          top: 0
          left: 0
      +modifier(context-header)
        &.bal-tabs__tabs__line--ready
          transition-duration: .3s


+block(tabs-item)
  width: 100%
  display: none
  +modifier(active)
    display: block
