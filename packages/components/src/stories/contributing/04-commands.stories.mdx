import { Meta } from '@storybook/addon-docs'

<Meta
  title="Contributing/Commands"
  parameters={{
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
/>

# Commands

The commands of the Baloise Design System are managed in the `package.json` file in the section `scripts`.

| Command           | Description                                                                                                                 |
| :---------------- | :-------------------------------------------------------------------------------------------------------------------------- |
| npm **install**   | Installs all the npm dependencies and bootstrap the lerna project with the symlinks and builds the library.                 |
| npm run **build** | Builds all packages in the correct order.                                                                                   |
| npm run **test**  | Runs the components tests.                                                                                                  |
| npm run **start** | Starts storybook with custom elements and watches for changes. Like in production (Recommanded for development)             |
| npm run **dev**   | Starts storybook with optimized build to fasten up the build process and watches for changes. (Recommanded for development) |

## Debug Components

To be able to debug components we need 2 seperate terminals. One for storybook and the other for stencil.

First we navigate into the component package.

```bash
cd packages/components
```

> **Important**
> Changes at the components interface (prop, events and methods) will not be published in the debug mode. There for we need to build the stencil components with `npm run dev:build`.

Then in the first terminal we build the components in the dev mode (no vue storybook output).

```bash
npm run dev:debug
```

In the second terminal we can start the storybook server.

```bash
npm run dev:docs
```

Now go to a component lets say `bal-tag` and add the keyword `debugger` to the render function.

## Testing

All the library project commands starts with the prefix `testing:`

| Command                     | Description                                                             |
| :-------------------------- | :---------------------------------------------------------------------- |
| npm run **test:components** | Runs the components tests.                                              |
| npm run **test:cypress**    | Runs the cypress components tests (test server is needed).              |
| npm run **test:ci**         | Builds and starts the test server and runs the cypress test against it. |

## Documentation (Storybook)

All the library project commands starts with the prefix `storybook:`

| Command                     | Description                                         |
| :-------------------------- | :-------------------------------------------------- |
| npm run **storybook**       | Installs all the dependencies of the documentation. |
| npm run **storybook:start** | Runs the static generated storybook.                |
