import { Meta, Canvas, Story } from '@storybook/addon-docs'

<Meta
  title="Foundation/Grid/Code"
  parameters={{
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
/>

<bal-doc-banner subtitle="Foundation/grid" color="green">Development</bal-doc-banner>

<bal-doc-lead>Baloise Create is our corporate typeface. Its clear appearance underlines our modern and future-oriented brand expression.</bal-doc-lead>

## Breakpoints

To create a responsive layout you can either structure your app with the Sass mixins, CSS classes or use Javascript utilities.

### Sass Mixins

There are nine responsive mixins, which can be easily used in your sass files.

Use the scss mixins in your application the following:

```css
@import '@baloise/design-system-css/sass/mixins';

@include desktop() {
  // add your custom styles here
  // from the desktop breakpoint on
}
```

The file `design-system-css/sass/mixins` provides all design tokens as CSS-Variable and SASS mixins.

### Basic SASS Mixins

| Mixin                                       | Description                                 |
| ------------------------------------------- | ------------------------------------------- |
| `from($breakpoint)`                         | Styles are applied from this breakpoint on. |
| `until($breakpoint)`                        | Styles are applied until this breakpoint.   |
| `between($min-breakpoint, $max-breakpoint)` | Only between the breakpoints.               |

#### Usage

```css
.bal-element {
  color: lime;
}

@include from(var(--bal-breakpoint-tablet)) {
  .bal-element {
    color: blue;
  }
}
```

### Named SASS Mixins

The named mixins have the breakpoint already declared on work with the standard:

- mobile
- tablet
- tablet-only
- touch
- desktop
- desktop-only
- high-definition
- high-definition-only
- until-high-definition
- until-widescreen
- widescreen
- widescreen-only
- until-fullhd
- fullhd

#### Usage

Always define mobile first and afterwards the style changes for the different breakpoints.

```css
.bal-element {
  color: lime;
}

@include tablet() {
  .bal-element {
    color: red;
  }
}

@include desktop() {
  .bal-element {
    color: blue;
  }
}
```

<span id="story--foundation-grid-development--breakpoints-css-utility" style={{ opacity: 0 }}></span>

### CSS Utility Classes

Change the visibility with the help of the CSS utility classes.

<Canvas withSource="open">
  <Story id="foundation-grid-development--breakpoints-css-utility" />
</Canvas>

### JavaScript Utility

`isPlatform` returns a boolean if the Design System is running in the given **breakpoint**.

```typescript
import { isPlatform } from '@baloise/design-system-components'

isPlatform(window, 'mobile')
isPlatform(window, 'tablet')
isPlatform(window, 'desktop')
isPlatform(window, 'high-definition')
isPlatform(window, 'widescreen')
isPlatform(window, 'fullhd')
```

#### Angular

In the angular package we provide a `BalBreakpointsService` with observables. This service listens
on resize events and inform all subscribes.

Just import the `BalBreakpointsService` from the '@baloise/design-system-components-angular' package
and set is as **public** in the constructor so that we can use it in the template.

```typescript
import { BalBreakpointsService } from '@baloise/design-system-components-angular'

class MyComponent {
  constructor(public breakpoints: BalBreakpointsService)
}
```

In the template access the breakpoint you need with `breakpoints.touch$`.

```html
<div *ngIf="breakpoints.touch$ | async">... come content ...</div>
```

<span id="story--foundation-grid-development--container-css-utility" style={{ opacity: 0 }}></span>

## Containers

Container layout can be set with the CSS class `container`. Change the type of the container with `is-***` for example `is-compact`.

<Canvas withSource="open">
  <Story id="foundation-grid-development--container-css-utility" />
</Canvas>

<span id="story--foundation-grid-development--grid" style={{ opacity: 0 }}></span>

## Grid

The grid is provided by the `@baloise/design-system-css` package.

### Basic

Our grid is based on 12 columns. On mobile the columns will use the full width.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid" />
</Canvas>

<span id="story--foundation-grid-development--grid-column-size" style={{ opacity: 0 }}></span>

### Column Sizes

The grid supports 12 different sizes of columns. They can be used with the number `is-12` or with words like `is-full`.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-column-size" />
</Canvas>

<span id="story--foundation-grid-development--grid-rows" style={{ opacity: 0 }}></span>

### Rows

By adding the CSS class `is-multiline` the columns can be shown on more than one row.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-rows" />
</Canvas>

<span id="story--foundation-grid-development--grid-nested" style={{ opacity: 0 }}></span>

### Nested

Grids can be nested to have more flexibility in your structure.

Just keep the structure columns > column > columns > column > ...

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-nested" />
</Canvas>

<span id="story--foundation-grid-development--grid-space" style={{ opacity: 0 }}></span>

### Space

By default we add a gap `var(--bal-column-gap)` of 1rem between the columns. This can be avoided with setting the CSS class `is-gapless`.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-space" />
</Canvas>

<span id="story--foundation-grid-development--grid-breakpoint" style={{ opacity: 0 }}></span>

### Breakpoint

The columns can be responsive and have different sizes on the breakpoints.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-breakpoint" />
</Canvas>

<span id="story--foundation-grid-development--grid-vertical-alignment" style={{ opacity: 0 }}></span>

### Vertical Alignment

To center the columns of the grid vertically set `is-vcentered` CSS class.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-vertical-alignment" />
</Canvas>

<span id="story--foundation-grid-development--grid-horizontal-alignment" style={{ opacity: 0 }}></span>

### Horizontal Alignment

To center the columns of the grid set `is-centered` CSS class.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-horizontal-alignment" />
</Canvas>

<span id="story--foundation-grid-development--grid-stretch" style={{ opacity: 0 }}></span>

### Stretch

To stretch the inner element of a column use the CSS class `is-fullheight`.

<Canvas withSource="open">
  <Story id="foundation-grid-development--grid-stretch" />
</Canvas>

## Installation

To install the CSS Framework run the following npm command:

```
npm add @baloise/design-system-css
```

> **TIP**
>
> The CSS package is already included in the **component** packages.
> To use the CSS Utility Classes import the following stylesheet.

```scss
@import '@baloise/design-system-css/css/grid';
```

<bal-doc-github link="/stories/foundation/grid/02-development.docs.mdx"></bal-doc-github>
