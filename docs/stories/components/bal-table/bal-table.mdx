import { Canvas, Meta, Markdown } from '@storybook/blocks'
import { Banner, Lead, PlaygroundBar, StoryHeading, Footer, InfoQuote, CodeSandbox } from '../../../.storybook/blocks'
import * as TableStories from './bal-table.stories'

<Meta of={TableStories} />

<StoryHeading of={TableStories.Basic} hidden></StoryHeading>

<Banner of={TableStories} />

<Lead>**Table** is only css and html provided by the bulma framework.</Lead>

<Canvas of={TableStories.Basic} sourceState="closed" />

<PlaygroundBar of={TableStories.Basic}></PlaygroundBar>

{/* STORIES */}
{/* ------------------------------------------------------ */}

<StoryHeading of={TableStories.AgGrid}></StoryHeading>

[AG Grid](https://www.ag-grid.com/) is a powerful and feature-rich JavaScript data grid library used for building interactive and performant tables in web applications.
It provides a wide range of functionalities, including sorting, filtering, grouping, and advanced customization options, making it a popular choice for displaying and
manipulating large sets of data in a user-friendly manner. AG Grid is widely used in enterprise applications and provides support for various frameworks like Angular and React.

<CodeSandbox of={TableStories.AgGrid} />

### Installation

To use the AG-Grid install the following packages:

```
npm install --save @baloise/ds-table ag-grid-community ag-grid-angular
```

To get the Baloise style import the following stylesheets:

```scss
@use 'ag-grid-community/styles/ag-grid' as *;
@use 'ag-grid-community/styles/ag-theme-alpine' as *;
@use '@baloise/ds-table/css/design-system-table' as *;
```

<InfoQuote>
**TIP**

If you do now use `bal-table` as the AG-Grid container,
please set the class `ag-theme-alpine` to the AG-Grid element to get the Baloise styles.

</InfoQuote>

- for [Javascript](https://www.ag-grid.com/javascript-data-grid/getting-started/)
- for [Angular](https://www.ag-grid.com/angular-data-grid/getting-started/)
- for [React](https://www.ag-grid.com/react-data-grid/getting-started/)

#### Custom Renderer

The package provides three render functions to use components of the Design System inside the AG-Grid.

##### BalTableButtonRenderer

Renders a button into the grid.

```typescript
import { BalTableButtonRenderer } from '@baloise/ds-table'

...
{
  field: 'button',
  sortable: true,
  filter: true,
  cellRenderer: BalTableButtonRenderer({
    expanded: true,
    icon: 'github',
  }),
},
...
```

The `BalTableButtonRenderer` takes the option object `BalTableButtonRendererOptions` as a parameter.

```typescript
interface BalTableButtonRendererOptions {
  color?: (params: ICellRendererParams) => ColorTypes
  loading?: (params: ICellRendererParams) => boolean
  href?: (params: ICellRendererParams) => string
  icon?: string
  iconRight?: boolean
  square?: boolean
  expanded?: boolean
  outlined?: boolean
  link?: boolean
  target?: '_blank' | ' _parent' | '_self' | '_top'
}
```

##### BalTableTagRenderer

Renders a tag element into the grid.

```typescript
import { BalTableTagRenderer } from '@baloise/ds-table'

...
{
  field: 'tag',
  sortable: true,
  filter: true,
  cellRenderer: BalTableTagRenderer({
    color: params => (params.value === 'Invalid' ? 'danger' : 'success'),
  }),
},
...
```

The `BalTableTagRenderer` takes the option object `BalTableTagRendererOptions` as a parameter.

```typescript
interface BalTableTagRendererOptions {
  color?: (params: ICellRendererParams) => ColorTypes
}
```

##### BalTableTextRenderer

Renders a text into the grid.

```typescript
import { BalTableTextRenderer } from '@baloise/ds-table'

...
{
  field: 'textWithIcon',
  sortable: true,
  filter: true,
  cellRenderer: BalTableTextRenderer({
    icon: params => 'github',
    iconColor: params => 'primary',
  }),
},
...
```

The `BalTableTextRenderer` takes the option object `BalTableTextRendererOptions` as a parameter.

```typescript
interface BalTableTextRendererOptions {
  color?: (params: ICellRendererParams) => ColorTypes
  icon?: (params: ICellRendererParams) => string
  iconColor?: (params: ICellRendererParams) => ColorTypes
  iconRight?: (params: ICellRendererParams) => boolean
}
```

## Component API

import api from './api.md?raw'

<Markdown>{api}</Markdown>

## Integration

import integration from '../../snippets/integration.md?raw'

<Markdown>{integration}</Markdown>

import theming from './theming.md?raw'

<Markdown>{theming}</Markdown>

import testing from './testing.md?raw'

<Markdown>{testing}</Markdown>

<Footer />
